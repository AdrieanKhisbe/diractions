# zsh shpec build draft
language: zsh

# based from https://github.com/mafredri/zsh-async
addons:
  apt:
    packages:
      - build-essential
      - tree
      - yodl
      - zsh

env:
  matrix:
    - ZVM_VERSION=5.3.1
    - ZVM_VERSION=5.3
    - ZVM_VERSION=5.2
    - ZVM_VERSION=5.1.1
    - ZVM_VERSION=5.0.8
    - ZVM_VERSION=5.0.2

before_install:
  - curl -L https://zulu.sh/install | zsh
  - zsh -c "source ~/.zshrc; zulu install zvm; zvm use $ZVM_VERSION ;cat /home/travis/.zvm/log/*"

install:
  # install antigen
  - curl -L git.io/antigen  > ~/antigen.zsh
  - echo "source ~/antigen.zsh; antigen bundle rylnd/shpec; antigen apply" > ~/.zshrc
  - echo "setopt sh_word_split" >> ~/.zshenv
  - zsh ~/.zshrc
  - export SHELL=zsh

script:
  - zsh --version
  - ./.travis-run.zsh
    # Check if shall not load diraction by hand

notifications:
  email: false
